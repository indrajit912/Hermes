{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<div class="text-center mb-5">
    <h1 class="display-4 fw-bold text-primary">Hermes API</h1>
    <!-- Hermes Name Explanation -->
    <div class="text-center mb-3">
      <span class="fst-italic text-secondary">
        Hermes is named after <b>Hermes</b> (<i>/ˈhɜːrmiːz/</i>; Ancient Greek: Ἑρμῆς), the Olympian deity in ancient Greek mythology considered the herald of the gods—swift, clever, and the messenger between worlds.
      </span>
    </div>
    <p class="lead">Send emails from your apps with a secure, developer-friendly REST API.<br>Personal API keys, EmailBots, and admin workflows—no email server required.</p>
</div>

<!-- Purpose Section -->
<div class="row justify-content-center mb-4">
    <div class="col-12 col-md-10">
        <div class="alert alert-warning shadow-sm">
            <h5 class="mb-2 fw-bold text-dark">Why Hermes?</h5>
            <p class="mb-1">Do you have an app, web service, or personal website and need email functionality? Most email services are paid, and building your own email server is complex and time-consuming.</p>
            <p class="mb-1">Hermes gives you a <b>FREE</b> alternative: a simple REST API for sending emails from anywhere. Hermes handles all the email delivery behind the scenes, so you can focus on your app and use our endpoints wherever you need.</p>
        </div>
    </div>
</div>

<!-- Quickstart -->
<div class="row justify-content-center mb-5">
    <div class="col-12 col-md-8">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title text-success">Quickstart</h5>
                <ol class="mb-0">
                    <li>Register for an API key (<code>POST /api/v1/register</code>).</li>
                    <li>Wait for admin approval (API key sent via email).</li>
                    <li>Send emails using <code>POST /api/v1/send-email</code> with your API key.</li>
                </ol>
                <div class="mt-3">
                  <a href="{{ url_for('home.full_docs') }}" class="btn btn-outline-primary btn-sm">See Full Documentation</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- API Endpoints Overview -->
<div class="row justify-content-center mb-4">
  <div class="col-12 col-lg-10">
    <div class="mb-4">
      <h2 class="h4 fw-bold">API Endpoints</h2>
    </div>
    <div class="row g-4">
      <!-- User Endpoints -->
      <div class="col-12 col-md-6">
        <div class="card h-100 border-primary shadow-sm">
          <div class="card-header bg-primary text-white">User APIs</div>
          <div class="card-body">
            <ul class="list-unstyled mb-3">
              <li><b>Register:</b> <code>POST /api/v1/register</code></li>
              <li><b>Send Email:</b> <code>POST /api/v1/send-email</code></li>
              <li><b>Rotate API Key:</b> <code>POST /api/v1/apikey/rotate</code></li>
              <li><b>EmailBot CRUD:</b> <code>POST/GET/PUT/DELETE /api/v1/emailbots</code></li>
              <li><b>Activity Logs:</b> <code>GET /api/v1/logs</code></li>
            </ul>
            <button class="btn btn-outline-primary w-100" type="button" data-bs-toggle="collapse" data-bs-target="#userApiDetails" aria-expanded="false" aria-controls="userApiDetails">Show Details</button>
            <div class="collapse mt-3" id="userApiDetails">
              <pre class="bg-light p-2 rounded"><code>POST /api/v1/send-email
Headers: Authorization: Bearer &lt;API_KEY&gt;
Body: {
    "to": ["recipient@example.com"],
    "subject": "Hello",
    "email_plain_text": "Body text",
    "email_html_text": "&lt;p&gt;Body HTML&lt;/p&gt;"
}
</code></pre>
            </div>
          </div>
        </div>
      </div>
      <!-- Admin Endpoints -->
      <div class="col-12 col-md-6">
        <div class="card h-100 border-danger shadow-sm">
          <div class="card-header bg-danger text-white">Admin APIs</div>
          <div class="card-body">
            <ul class="list-unstyled mb-3">
              <li><b>Approve User:</b> <code>POST /api/v1/admin/approve-user/&lt;user_id&gt;</code></li>
              <li><b>List Users:</b> <code>GET /api/v1/admin/users</code></li>
              <li><b>Delete User:</b> <code>DELETE /api/v1/admin/delete-user/&lt;user_id&gt;</code></li>
            </ul>
            <button class="btn btn-outline-danger w-100" type="button" data-bs-toggle="collapse" data-bs-target="#adminApiDetails" aria-expanded="false" aria-controls="adminApiDetails">Show Details</button>
            <div class="collapse mt-3" id="adminApiDetails">
              <pre class="bg-light p-2 rounded"><code>POST /api/v1/admin/approve-user/&lt;user_id&gt;
Headers: Authorization: Bearer &lt;ADMIN_API_KEY&gt;
Response: {
    "success": true,
    "api_key": "&lt;plaintext API key&gt;"
}
</code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Security & Notes -->
<div class="row justify-content-center mt-5">
    <div class="col-12 col-md-8">
        <div class="alert alert-info shadow-sm">
            <h5 class="mb-2">Security &amp; Usage Notes</h5>
            <ul class="mb-0">
                <li>API keys are shown only once after approval.</li>
                <li>All sensitive values are encrypted in the database.</li>
                <li>Email notifications are sent on approval.</li>
                <li>Use the key rotation script with care.</li>
            </ul>
        </div>
    </div>
</div>


{% endblock %}
